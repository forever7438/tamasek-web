var ObjContentBanner={initialize:function(){ObjContentBanner.createImgObj();ObjContentBanner.setSlider();ObjContentBanner.setScrollDown();ObjContentBanner.setPosition();ObjContentBanner.setSliderItemHeight();ObjContentBanner.setBackgroundVideoPosition();ObjContentBanner.resize()},resize:function(){$(window).on("resize",function(){ObjContentBanner.setSliderItemHeight()})},createImgObj:function(){var a=blacksunplc.jsonml;$(".parbase.carousel.content-carousel").find(".video-popup-carousel-wrapper, .image-carousel-wrapper").each(function(b,
c){b=$(c).css("background-image");b=b.replace("url(","").replace(")","").replace(/"/gi,"");a.append(c,["div",{"class":"image-wrapper"},["img",{src:b,alt:""}]])})},setSliderItemHeight:function(){var a=$(".parbase.carousel:not(.content-carousel)");a&&a.find(".image-carousel-wrapper, .video-popup-carousel-wrapper, .video-background-carousel-wrapper").css("min-height",window.innerHeight)},setScrollDown:function(){var a=$(".parbase.carousel:not(.content-carousel)");a&&(a.append("\x3cdiv class\x3d'down-arrow'\x3e\x3cdiv class\x3d'down-arrow-inner'\x3e\x3cspan class\x3d'arrow'\x3e\x3cspan class\x3d'arrow-body'\x3e\x3c/span\x3e\x3cspan class\x3d'arrow-head'\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e"),
a.find(".down-arrow").on("click",function(a){var c=$(a.target).parents(".parbase.carousel:not(.content-carousel)").outerHeight();$("html, body").animate({scrollTop:c});a.preventDefault()}))},setSlider:function(){var a=$(document.body),b=$(".parbase.carousel.content-carousel .carousel-slides");if(a.hasClass("cq-wcm-edit")||a.hasClass("cq-wcm-design")||a.hasClass("touch-ui")||0===b.length)return!1;b.slick("slickSetOption","slidesToShow",4,!0);b.slick("slickSetOption","slidesToScroll",4,!0);b.slick("slickSetOption",
"responsive",[{breakpoint:680,settings:{dots:!0,centerMode:!1,variableWidth:!1,slidesToShow:2,slidesToScroll:1,autoplay:!0,autoplaySpeed:3E3}},{breakpoint:480,settings:{settings:"slick",dots:!0,centerMode:!0,centerPadding:"40px",variableWidth:!1,slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:3E3}}],!0);$(window).on("resize",function(){ObjContentBanner.setSliderItemHeight()});$(window).trigger("resize");$(".parbase.carousel:NOT(.content-carousel)").addClass("slick-content-initialized")},
setPosition:function(){var a=parseInt($(".parbase.carousel").not(".content-carousel").height(),10);$(".parbase.content-carousel").css("top",a+"px");if(767<$(window).width()){var b=parseInt($(".parbase.carousel.content-carousel").height(),10);$(".parbase.carousel").not(".content-carousel").find(".slick-arrow").css("top",(a-b)/2+40+"px")}window.setTimeout(function(){ObjContentBanner.setBottom();ObjContentBanner.setContentPosition()},100)},setContentPosition:function(){var a=$(".parbase.carousel").not(".content-carousel"),
b=a.find(".image-carousel-text img");b&&b.parents(".image-carousel-text").addClass("image-carousel-text-wide");a.find(".slick-slide, .carousel-item-author-wrapper").each(function(a,b){a=$(b);b=a.find(".image-carousel-text, .video-popup-carousel-text, .video-background-carousel-text");var c=a.find(".link-text-button");a.find("a \x3e .link-text-button").length&&(a.find(".link-text-button").css("display","inline-block"),0<b.length?c.appendTo(b):c.wrap('\x3cdiv class\x3d"image-carousel-text"\x3e\x3c/div\x3e'));
1024<=parseInt($(".measurement").css("max-width"),10)?b.css({"margin-top":"",top:(parseInt(a.height(),10)-parseInt($(".parbase.carousel.content-carousel").outerHeight(),10)+parseInt($("header").outerHeight(),10))/2-23+"px"}):768<=parseInt($(".measurement").css("max-width"),10)?b.css({"margin-top":-(parseInt(a.height(),10)/2-parseInt($(".parbase.carousel.content-carousel").outerHeight(),10))/2+20+"px",top:""}):b.css({"margin-top":"",top:""})})},setBottom:function(){var a=$(".parbase.content-carousel .slick-slide"),
b=a.find(".image-carousel-text, .video-popup-carousel-text, .video-background-carousel-text, .link-text-button"),c=0;a.css("margin-bottom","");b.each(function(a,b){a=$(b);a.outerHeight()>c&&(c=a.outerHeight())});c&&a.css("margin-bottom",c+"px")},setBackgroundVideoPosition:function(){$(".parbase.carousel").not(".content-carousel").each(function(a,b){$(b).find(".video-background-carousel-item").each(function(a,b){a=$(b);a.removeClass("based-on-width");.5625>a.height()/a.width()&&a.addClass("based-on-width")})})}},
ObjLatestNews={initialize:function(){ObjLatestNews.setSlider();ObjLatestNews.limitContent()},setSlider:function(){var a=$(document.body),b=$(".latest-news-content");if(a.hasClass("cq-wcm-edit")||a.hasClass("cq-wcm-design")||!b.length||b.hasClass("slick-initialized")||!b.find("article").length)return!1;b.slick({slidesToShow:4,arrows:!1,infinite:!0,adaptiveHeight:!0,responsive:[{breakpoint:1200,settings:{dots:!0,centerMode:!1,variableWidth:!1,slidesToShow:3,slidesToScroll:1}},{breakpoint:800,settings:{dots:!0,
centerMode:!1,variableWidth:!1,slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{dots:!0,centerMode:!1,variableWidth:!1,slidesToShow:1,slidesToScroll:1}}]})},limitContent:function(){$(".latest-news-item-description").dotdotdot({wrap:"word",height:80})}},ObjBackgroundVideo={initialize:function(){$(".carousel.parbase:not(.content-carousel) .video-background-carousel-item.slick-current video").length&&ObjBackgroundVideo.autoPlay();ObjBackgroundVideo.stopPlay()},autoPlay:function(){var a=$(".carousel.parbase:not(.content-carousel) .video-background-carousel-item.slick-current video")[0];
a&&blacksunplc.media.play(a)},stopPlay:function(){$(".carousel.parbase:not(.content-carousel) .carousel-slides").on("beforeChange",function(a,b,c){(a=$(".carousel.parbase:not(.content-carousel) .carousel-slides .video-background-carousel-item[data-slick-index\x3d'"+c+"'] video ")[0])&&a.pause()})}},ObjHomepageTeaser={initialize:function(){ObjHomepageTeaser.setHover()},setHover:function(){var a=$(".section.homepage-teaser .homepage-teaser-wrapper");a.on("click",function(){});a.on("mouseenter touch",
function(a,c){a=$(c);c=a.find(".homepage-teaser-wrapper-inner");$(".page").find(".homepage-teaser-wrapper.hover").removeClass("hover");a.addClass("hover");parseInt(c.css("top"),10)+parseInt(c.outerHeight(),10)>parseInt(c.parents(".homepage-teaser").height(),10)-10?c.animate({top:"-\x3d"+(parseInt(c.css("top"),10)+parseInt(c.outerHeight(),10)-parseInt(c.parents(".homepage-teaser").height(),10)+30)+"px"},0):c.animate({top:"-\x3d10px"},0)});a.on("mouseleave",function(a){a=$(a.currentTarget);var b=a.find(".homepage-teaser-wrapper-inner");
a.removeClass("hover");b.css("top","")})}},ObjHomepageCarousel={initialize:function(){ObjHomepageCarousel.setNewsAndViewsArrows()},setNewsAndViewsArrows:function(){var a=$(".homepage .articles-carousel:not(.stories-carousel)");1024<$(window).width()?a.find(".articles-carousel-arrows").prependTo(a.find(".articles-carousel-content")):a.find(".articles-carousel-arrows").prependTo(a.find(".articles-carousel-footer"))}};jQuery(function(){ObjHomepageTeaser.initialize()});
$(window).on("load",function(){ObjContentBanner.initialize();ObjLatestNews.initialize();ObjBackgroundVideo.initialize();ObjHomepageCarousel.initialize()});$(window).on("resize",function(){ObjContentBanner.setPosition();ObjContentBanner.setBackgroundVideoPosition();ObjHomepageCarousel.initialize()});$(document).on("ajaxComplete",function(){ObjLatestNews.initialize()});
window.addEventListener("orientationchange",function(){setTimeout(function(){ObjContentBanner.setPosition();ObjContentBanner.setBackgroundVideoPosition()},300)},!1);