(function(b){var n,p=!1;b.fn.slinky=function(e){var f=b.extend({label:b(".mobilemenu-wrapper").data("backlabel"),title:!1,speed:300,resize:!0},e),a=b(this),h=a.children().first();a.addClass("slinky-menu");var l=function(c,a){var b=Math.round(parseInt(h.get(0).style.left,10))||0;h.css("left",b-100*c+"%");"function"===typeof a&&setTimeout(a,f.speed)},m=function(c){a.height(c.outerHeight())},g=function(c){a.css("transition-duration",c+"ms");h.css("transition-duration",c+"ms")};g(f.speed);b("a + ul",
a).prev().addClass("next").append("\x3cspan\x3e\x26#10095;\x3c/span\x3e");b("li \x3e ul",a).prepend('\x3cli class\x3d"header"\x3e');!0===f.title&&b("li \x3e ul",a).each(function(){var a=b(this).parent().find("a").first().text();a=b("\x3ch2\x3e").text(a);b("\x3e .header",this).append(a)});f.title||!0!==f.label?(e=b("\x3ca\x3e").text(f.label).prop("href","#").addClass("back"),b(".header",a).append(e)):b("li \x3e ul",a).each(function(){var a=b(this).parent().find("a").first().text();a=b("\x3ca\x3e").text(a).prop("href",
"#").addClass("back");b("\x3e .header",this).append(a)});b("a",a).on("click",function(c){console.log(c);console.log(c.target.localName.toString());p="span"==c.target.localName?!0:!1;if(n+f.speed>Date.now())return!1;n=Date.now();var d=b(this);(/\B#/.test(this.href)||d.hasClass("next"))&&c.preventDefault();d.hasClass("next")?(a.find(".active").removeClass("active"),d.next().show().addClass("active"),p?(l(1),f.resize&&m(d.next())):window.location.href=d.attr("href")):d.hasClass("back")&&(l(-1,function(){a.find(".active").removeClass("active");
d.parent().parent().hide().parentsUntil(a,"ul").first().addClass("active")}),f.resize&&m(d.parent().parent().parentsUntil(a,"ul")))});this.jump=function(c,d){c=b(c);var k=a.find(".active");k=0<k.length?k.parentsUntil(a,"ul").length:0;a.find("ul").removeClass("active").hide();var e=c.parentsUntil(a,"ul");e.show();c.show().addClass("active");!1===d&&g(0);l(e.length-k);f.resize&&m(c);!1===d&&g(f.speed)};this.home=function(c){!1===c&&g(0);var d=a.find(".active"),e=d.parentsUntil(a,"li").length;0<e&&(l(-e,
function(){d.removeClass("active")}),f.resize&&m(b(d.parentsUntil(a,"li").get(e-1)).parent()));!1===c&&g(f.speed)};this.destroy=function(){b(".header",a).remove();b("a",a).removeClass("next").off("click");a.removeClass("slinky-menu").css("transition-duration","");h.css("transition-duration","")};e=a.find(".active");0<e.length&&(e.removeClass("active"),this.jump(e,!1));return this}})(jQuery);